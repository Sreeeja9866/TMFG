(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64387,e=>{"use strict";var s=e.i(34760),r=e.i(72659);function l({serviceId:e,serviceSlug:l,schedules:a}){let[t,i]=(0,r.useState)({name:"",email:"",phone:"",scheduleId:"",message:""}),[o,n]=(0,r.useState)(!1),[d,c]=(0,r.useState)("idle"),m=async s=>{s.preventDefault(),n(!0),c("idle");try{(await fetch("/api/services/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,serviceId:e,serviceSlug:l})})).ok?(c("success"),i({name:"",email:"",phone:"",scheduleId:"",message:""})):c("error")}catch(e){console.error("Registration error:",e),c("error")}finally{n(!1)}};return(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg sticky top-24",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Register Now"}),"success"===d&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-800",children:"Registration successful! Check your email for confirmation."}),"error"===d&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:"Registration failed. Please try again."}),0===a.length&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-800",children:"No upcoming schedules available at this time. Please check back later."}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Name *"}),(0,s.jsx)("input",{type:"text",required:!0,value:t.name,onChange:e=>i({...t,name:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Email *"}),(0,s.jsx)("input",{type:"email",required:!0,value:t.email,onChange:e=>i({...t,email:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:t.phone,onChange:e=>i({...t,phone:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary"})]}),a.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Select Date & Time *"}),(0,s.jsxs)("select",{required:!0,value:t.scheduleId,onChange:e=>i({...t,scheduleId:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("option",{value:"",children:"Choose a schedule..."}),a.map(e=>(0,s.jsxs)("option",{value:e.id,children:[new Date(e.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})," | ",e.startTime," - ",e.endTime," (",e.availableSpots," spots left)"]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Message (Optional)"}),(0,s.jsx)("textarea",{rows:3,value:t.message,onChange:e=>i({...t,message:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Any questions or special requirements?"})]}),(0,s.jsx)("button",{type:"submit",disabled:o||0===a.length,className:"w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Registering...":"Register"})]})]})}e.s(["default",()=>l])}]);