{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n  prisma: PrismaClient | undefined\r\n}\r\n\r\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth, { NextAuthOptions } from 'next-auth'\r\nimport GoogleProvider from 'next-auth/providers/google'\r\nimport EmailProvider from 'next-auth/providers/email'\r\nimport { PrismaAdapter } from '@auth/prisma-adapter'\r\nimport { prisma } from '@/lib/prisma'\r\n\r\nexport const authOptions: NextAuthOptions = {\r\n  adapter: PrismaAdapter(prisma),\r\n  providers: [\r\n    GoogleProvider({\r\n      clientId: process.env.GOOGLE_CLIENT_ID || '',\r\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET || '',\r\n    }),\r\n    EmailProvider({\r\n      server: {\r\n        host: process.env.EMAIL_SERVER_HOST || '',\r\n        port: Number(process.env.EMAIL_SERVER_PORT) || 587,\r\n        auth: {\r\n          user: process.env.EMAIL_SERVER_USER || '',\r\n          pass: process.env.EMAIL_SERVER_PASSWORD || '',\r\n        },\r\n      },\r\n      from: process.env.EMAIL_FROM || 'noreply@tmfg.org',\r\n    }),\r\n  ],\r\n  pages: {\r\n    signIn: '/auth/signin',\r\n    error: '/auth/error',\r\n    verifyRequest: '/auth/verify-request',\r\n  },\r\n  session: {\r\n    strategy: 'jwt',\r\n  },\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.id = user.id\r\n        token.email = user.email\r\n      }\r\n      return token\r\n    },\r\n    async session({ session, token }) {\r\n      if (session?.user) {\r\n        session.user.id = token.id as string\r\n        session.user.email = token.email as string\r\n      }\r\n      return session\r\n    },\r\n  },\r\n  secret: process.env.NEXTAUTH_SECRET,\r\n}\r\n\r\nconst handler = NextAuth(authOptions)\r\n\r\nexport { handler as GET, handler as POST }\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,cAA+B;IAC1C,SAAS,IAAA,6KAAa,EAAC,sIAAM;IAC7B,WAAW;QACT,IAAA,sKAAc,EAAC;YACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB,IAAI;YAC1C,cAAc,QAAQ,GAAG,CAAC,oBAAoB,IAAI;QACpD;QACA,IAAA,qKAAa,EAAC;YACZ,QAAQ;gBACN,MAAM,QAAQ,GAAG,CAAC,iBAAiB,IAAI;gBACvC,MAAM,OAAO,QAAQ,GAAG,CAAC,iBAAiB,KAAK;gBAC/C,MAAM;oBACJ,MAAM,QAAQ,GAAG,CAAC,iBAAiB,IAAI;oBACvC,MAAM,QAAQ,GAAG,CAAC,qBAAqB,IAAI;gBAC7C;YACF;YACA,MAAM,QAAQ,GAAG,CAAC,UAAU,IAAI;QAClC;KACD;IACD,OAAO;QACL,QAAQ;QACR,OAAO;QACP,eAAe;IACjB;IACA,SAAS;QACP,UAAU;IACZ;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,KAAK,GAAG,KAAK,KAAK;YAC1B;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,SAAS,MAAM;gBACjB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;gBAC1B,QAAQ,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK;YAClC;YACA,OAAO;QACT;IACF;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC;AAEA,MAAM,UAAU,IAAA,wJAAQ,EAAC","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/lib/admin/auth.ts"],"sourcesContent":["import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/app/api/auth/[...nextauth]/route'\r\n\r\n// List of admin emails - in production, this should be in database or environment variables\r\nconst ADMIN_EMAILS = [\r\n  \"themorningfamilygarden@gmail.com\",\r\n  // Add more admin emails here\r\n];\r\n\r\nexport async function isAdmin(): Promise<boolean> {\r\n  const session = await getServerSession(authOptions)\r\n\r\n  if (!session || !session.user?.email) {\r\n    return false\r\n  }\r\n\r\n  return ADMIN_EMAILS.includes(session.user.email)\r\n}\r\n\r\nexport async function requireAdmin() {\r\n  const admin = await isAdmin()\r\n\r\n  if (!admin) {\r\n    throw new Error('Unauthorized - Admin access required')\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nexport async function getAdminSession() {\r\n  const session = await getServerSession(authOptions)\r\n  const admin = await isAdmin()\r\n\r\n  return {\r\n    session,\r\n    isAdmin: admin,\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,4FAA4F;AAC5F,MAAM,eAAe;IACnB;CAED;AAEM,eAAe;IACpB,MAAM,UAAU,MAAM,IAAA,iKAAgB,EAAC,+KAAW;IAElD,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,EAAE,OAAO;QACpC,OAAO;IACT;IAEA,OAAO,aAAa,QAAQ,CAAC,QAAQ,IAAI,CAAC,KAAK;AACjD;AAEO,eAAe;IACpB,MAAM,QAAQ,MAAM;IAEpB,IAAI,CAAC,OAAO;QACV,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,UAAU,MAAM,IAAA,iKAAgB,EAAC,+KAAW;IAClD,MAAM,QAAQ,MAAM;IAEpB,OAAO;QACL;QACA,SAAS;IACX;AACF","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/app/admin/layout.tsx"],"sourcesContent":["import { redirect } from 'next/navigation'\r\nimport { getAdminSession } from '@/lib/admin/auth'\r\nimport Link from 'next/link'\r\nimport { Metadata } from 'next'\r\n\r\nexport const metadata: Metadata = {\r\n  title: {\r\n    default: 'Admin Dashboard',\r\n    template: '%s | Admin - TMFG',\r\n  },\r\n  robots: {\r\n    index: false,\r\n    follow: false,\r\n  },\r\n}\r\n\r\nexport default async function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const { session, isAdmin } = await getAdminSession()\r\n\r\n  if (!session) {\r\n    redirect('/auth/signin?callbackUrl=/admin')\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    redirect('/')\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      {/* Admin Header */}\r\n      <header className=\"bg-primary text-white shadow-lg\">\r\n        <div className=\"container mx-auto px-4 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-8\">\r\n              <Link href=\"/admin\" className=\"text-2xl font-bold\">\r\n                TMFG Admin\r\n              </Link>\r\n              <nav className=\"hidden md:flex gap-6\">\r\n                <Link href=\"/admin\" className=\"hover:text-accent transition-colors\">\r\n                  Dashboard\r\n                </Link>\r\n                <Link href=\"/admin/services\" className=\"hover:text-accent transition-colors\">\r\n                  Services\r\n                </Link>\r\n                <Link href=\"/admin/blog\" className=\"hover:text-accent transition-colors\">\r\n                  Blog\r\n                </Link>\r\n                <Link href=\"/admin/volunteers\" className=\"hover:text-accent transition-colors\">\r\n                  Volunteers\r\n                </Link>\r\n                <Link href=\"/admin/registrations\" className=\"hover:text-accent transition-colors\">\r\n                  Registrations\r\n                </Link>\r\n                <Link href=\"/admin/donations\" className=\"hover:text-accent transition-colors\">\r\n                  Donations\r\n                </Link>\r\n                <Link href=\"/admin/newsletter\" className=\"hover:text-accent transition-colors\">\r\n                  Newsletter\r\n                </Link>\r\n              </nav>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"text-sm\">{session.user?.email}</span>\r\n              <Link\r\n                href=\"/\"\r\n                className=\"bg-white text-primary px-4 py-2 rounded hover:bg-gray-100 transition-colors text-sm font-semibold\"\r\n              >\r\n                View Site\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Mobile Navigation */}\r\n      <nav className=\"md:hidden bg-primary-dark text-white px-4 py-3 overflow-x-auto\">\r\n        <div className=\"flex gap-4 whitespace-nowrap\">\r\n          <Link href=\"/admin\" className=\"text-sm hover:text-accent\">\r\n            Dashboard\r\n          </Link>\r\n          <Link href=\"/admin/services\" className=\"text-sm hover:text-accent\">\r\n            Services\r\n          </Link>\r\n          <Link href=\"/admin/blog\" className=\"text-sm hover:text-accent\">\r\n            Blog\r\n          </Link>\r\n          <Link href=\"/admin/volunteers\" className=\"text-sm hover:text-accent\">\r\n            Volunteers\r\n          </Link>\r\n          <Link href=\"/admin/registrations\" className=\"text-sm hover:text-accent\">\r\n            Registrations\r\n          </Link>\r\n          <Link href=\"/admin/donations\" className=\"text-sm hover:text-accent\">\r\n            Donations\r\n          </Link>\r\n          <Link href=\"/admin/newsletter\" className=\"text-sm hover:text-accent\">\r\n            Newsletter\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"container mx-auto px-4 py-8\">\r\n        {children}\r\n      </main>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-white border-t mt-12 py-6\">\r\n        <div className=\"container mx-auto px-4 text-center text-gray-600 text-sm\">\r\n          <p>The Morning Family Garden Admin Panel</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;;;;;AAGO,MAAM,WAAqB;IAChC,OAAO;QACL,SAAS;QACT,UAAU;IACZ;IACA,QAAQ;QACN,OAAO;QACP,QAAQ;IACV;AACF;AAEe,eAAe,YAAY,EACxC,QAAQ,EAGT;IACC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,IAAA,sJAAe;IAElD,IAAI,CAAC,SAAS;QACZ,IAAA,yMAAQ,EAAC;IACX;IAEA,IAAI,CAAC,SAAS;QACZ,IAAA,yMAAQ,EAAC;IACX;IAEA,qBACE,sPAAC;QAAI,WAAU;;0BAEb,sPAAC;gBAAO,WAAU;0BAChB,cAAA,sPAAC;oBAAI,WAAU;8BACb,cAAA,sPAAC;wBAAI,WAAU;;0CACb,sPAAC;gCAAI,WAAU;;kDACb,sPAAC,kMAAI;wCAAC,MAAK;wCAAS,WAAU;kDAAqB;;;;;;kDAGnD,sPAAC;wCAAI,WAAU;;0DACb,sPAAC,kMAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAsC;;;;;;0DAGpE,sPAAC,kMAAI;gDAAC,MAAK;gDAAkB,WAAU;0DAAsC;;;;;;0DAG7E,sPAAC,kMAAI;gDAAC,MAAK;gDAAc,WAAU;0DAAsC;;;;;;0DAGzE,sPAAC,kMAAI;gDAAC,MAAK;gDAAoB,WAAU;0DAAsC;;;;;;0DAG/E,sPAAC,kMAAI;gDAAC,MAAK;gDAAuB,WAAU;0DAAsC;;;;;;0DAGlF,sPAAC,kMAAI;gDAAC,MAAK;gDAAmB,WAAU;0DAAsC;;;;;;0DAG9E,sPAAC,kMAAI;gDAAC,MAAK;gDAAoB,WAAU;0DAAsC;;;;;;;;;;;;;;;;;;0CAKnF,sPAAC;gCAAI,WAAU;;kDACb,sPAAC;wCAAK,WAAU;kDAAW,QAAQ,IAAI,EAAE;;;;;;kDACzC,sPAAC,kMAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAST,sPAAC;gBAAI,WAAU;0BACb,cAAA,sPAAC;oBAAI,WAAU;;sCACb,sPAAC,kMAAI;4BAAC,MAAK;4BAAS,WAAU;sCAA4B;;;;;;sCAG1D,sPAAC,kMAAI;4BAAC,MAAK;4BAAkB,WAAU;sCAA4B;;;;;;sCAGnE,sPAAC,kMAAI;4BAAC,MAAK;4BAAc,WAAU;sCAA4B;;;;;;sCAG/D,sPAAC,kMAAI;4BAAC,MAAK;4BAAoB,WAAU;sCAA4B;;;;;;sCAGrE,sPAAC,kMAAI;4BAAC,MAAK;4BAAuB,WAAU;sCAA4B;;;;;;sCAGxE,sPAAC,kMAAI;4BAAC,MAAK;4BAAmB,WAAU;sCAA4B;;;;;;sCAGpE,sPAAC,kMAAI;4BAAC,MAAK;4BAAoB,WAAU;sCAA4B;;;;;;;;;;;;;;;;;0BAOzE,sPAAC;gBAAK,WAAU;0BACb;;;;;;0BAIH,sPAAC;gBAAO,WAAU;0BAChB,cAAA,sPAAC;oBAAI,WAAU;8BACb,cAAA,sPAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKb","debugId":null}}]
}