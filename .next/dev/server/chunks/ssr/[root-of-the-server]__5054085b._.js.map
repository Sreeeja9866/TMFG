{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/app/admin/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/prisma'\r\nimport Link from 'next/link'\r\n\r\nasync function getDashboardStats() {\r\n  const [\r\n    totalServices,\r\n    totalBlogPosts,\r\n    totalVolunteers,\r\n    pendingVolunteers,\r\n    totalRegistrations,\r\n    pendingRegistrations,\r\n    totalDonations,\r\n    totalNewsletterSubscribers,\r\n  ] = await Promise.all([\r\n    prisma.service.count({ where: { active: true } }),\r\n    prisma.blogPost.count({ where: { published: true } }),\r\n    prisma.volunteer.count(),\r\n    prisma.volunteer.count({ where: { status: 'pending' } }),\r\n    prisma.registration.count(),\r\n    prisma.registration.count({ where: { status: 'pending' } }),\r\n    prisma.donation.count(),\r\n    prisma.newsletter.count({ where: { active: true } }),\r\n  ])\r\n\r\n  const donationSum = await prisma.donation.aggregate({\r\n    _sum: {\r\n      amount: true,\r\n    },\r\n    where: {\r\n      status: 'succeeded',\r\n    },\r\n  })\r\n\r\n  return {\r\n    totalServices,\r\n    totalBlogPosts,\r\n    totalVolunteers,\r\n    pendingVolunteers,\r\n    totalRegistrations,\r\n    pendingRegistrations,\r\n    totalDonations,\r\n    totalDonationAmount: donationSum._sum.amount || 0,\r\n    totalNewsletterSubscribers,\r\n  }\r\n}\r\n\r\nexport default async function AdminDashboard() {\r\n  const stats = await getDashboardStats()\r\n\r\n  const statCards = [\r\n    {\r\n      title: 'Active Services',\r\n      value: stats.totalServices,\r\n      link: '/admin/services',\r\n      icon: 'üå±',\r\n      color: 'bg-green-500',\r\n    },\r\n    {\r\n      title: 'Published Blog Posts',\r\n      value: stats.totalBlogPosts,\r\n      link: '/admin/blog',\r\n      icon: 'üìù',\r\n      color: 'bg-blue-500',\r\n    },\r\n    {\r\n      title: 'Volunteers',\r\n      value: stats.totalVolunteers,\r\n      subtitle: `${stats.pendingVolunteers} pending`,\r\n      link: '/admin/volunteers',\r\n      icon: 'ü§ù',\r\n      color: 'bg-purple-500',\r\n    },\r\n    {\r\n      title: 'Registrations',\r\n      value: stats.totalRegistrations,\r\n      subtitle: `${stats.pendingRegistrations} pending`,\r\n      link: '/admin/registrations',\r\n      icon: 'üìã',\r\n      color: 'bg-orange-500',\r\n    },\r\n    {\r\n      title: 'Total Donations',\r\n      value: `$${stats.totalDonationAmount.toFixed(2)}`,\r\n      subtitle: `${stats.totalDonations} donations`,\r\n      link: '/admin/donations',\r\n      icon: 'üí∞',\r\n      color: 'bg-yellow-500',\r\n    },\r\n    {\r\n      title: 'Newsletter Subscribers',\r\n      value: stats.totalNewsletterSubscribers,\r\n      link: '/admin/newsletter',\r\n      icon: 'üìß',\r\n      color: 'bg-pink-500',\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Dashboard</h1>\r\n        <p className=\"text-gray-600\">Welcome to The Morning Family Garden Admin Panel</p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n        {statCards.map((card, index) => (\r\n          <Link\r\n            key={index}\r\n            href={card.link}\r\n            className=\"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow\"\r\n          >\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div className={`${card.color} w-12 h-12 rounded-lg flex items-center justify-center text-2xl`}>\r\n                {card.icon}\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">{card.title}</h3>\r\n            <p className=\"text-3xl font-bold text-gray-900 mb-1\">{card.value}</p>\r\n            {card.subtitle && (\r\n              <p className=\"text-sm text-gray-500\">{card.subtitle}</p>\r\n            )}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <Link\r\n            href=\"/admin/services/new\"\r\n            className=\"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            + Add Service\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/blog/new\"\r\n            className=\"bg-secondary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            + New Blog Post\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/volunteers?status=pending\"\r\n            className=\"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            Review Volunteers\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/registrations?status=pending\"\r\n            className=\"bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            Review Registrations\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}