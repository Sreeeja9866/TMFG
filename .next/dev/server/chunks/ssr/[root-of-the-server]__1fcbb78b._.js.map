{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/app/admin/newsletter/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/prisma'\r\n\r\nexport default async function NewsletterPage() {\r\n  const subscribers = await prisma.newsletter.findMany({\r\n    orderBy: { createdAt: 'desc' },\r\n  })\r\n\r\n  const stats = {\r\n    total: subscribers.length,\r\n    active: subscribers.filter((s) => s.active).length,\r\n    inactive: subscribers.filter((s) => !s.active).length,\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Newsletter Subscribers</h1>\r\n        <p className=\"text-gray-600\">Manage email subscribers</p>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"text-sm font-semibold text-gray-600 mb-2\">Total Subscribers</div>\r\n          <div className=\"text-3xl font-bold text-primary\">{stats.total}</div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"text-sm font-semibold text-gray-600 mb-2\">Active</div>\r\n          <div className=\"text-3xl font-bold text-green-600\">{stats.active}</div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"text-sm font-semibold text-gray-600 mb-2\">Unsubscribed</div>\r\n          <div className=\"text-3xl font-bold text-gray-400\">{stats.inactive}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Export Button */}\r\n      <div className=\"mb-6\">\r\n        <button\r\n          onClick={() => {\r\n            const emails = subscribers\r\n              .filter((s) => s.active)\r\n              .map((s) => s.email)\r\n              .join(',')\r\n            navigator.clipboard.writeText(emails)\r\n            alert('Active email addresses copied to clipboard!')\r\n          }}\r\n          className=\"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors\"\r\n        >\r\n          ðŸ“‹ Copy All Active Emails\r\n        </button>\r\n      </div>\r\n\r\n      {/* Subscribers Table */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        {subscribers.length === 0 ? (\r\n          <div className=\"p-12 text-center text-gray-500\">\r\n            <p className=\"text-xl mb-2\">No subscribers yet</p>\r\n            <p className=\"text-sm\">Newsletter subscribers will appear here</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Email\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Subscribed Date\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {subscribers.map((subscriber) => (\r\n                  <tr key={subscriber.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{subscriber.email}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span\r\n                        className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                          subscriber.active\r\n                            ? 'bg-green-100 text-green-800'\r\n                            : 'bg-gray-100 text-gray-800'\r\n                        }`}\r\n                      >\r\n                        {subscriber.active ? 'Active' : 'Unsubscribed'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(subscriber.createdAt).toLocaleDateString()}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,eAAe;IAC5B,MAAM,cAAc,MAAM,sIAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;QACnD,SAAS;YAAE,WAAW;QAAO;IAC/B;IAEA,MAAM,QAAQ;QACZ,OAAO,YAAY,MAAM;QACzB,QAAQ,YAAY,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,EAAE,MAAM;QAClD,UAAU,YAAY,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,MAAM,EAAE,MAAM;IACvD;IAEA,qBACE,sPAAC;;0BACC,sPAAC;gBAAI,WAAU;;kCACb,sPAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,sPAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAI/B,sPAAC;gBAAI,WAAU;;kCACb,sPAAC;wBAAI,WAAU;;0CACb,sPAAC;gCAAI,WAAU;0CAA2C;;;;;;0CAC1D,sPAAC;gCAAI,WAAU;0CAAmC,MAAM,KAAK;;;;;;;;;;;;kCAE/D,sPAAC;wBAAI,WAAU;;0CACb,sPAAC;gCAAI,WAAU;0CAA2C;;;;;;0CAC1D,sPAAC;gCAAI,WAAU;0CAAqC,MAAM,MAAM;;;;;;;;;;;;kCAElE,sPAAC;wBAAI,WAAU;;0CACb,sPAAC;gCAAI,WAAU;0CAA2C;;;;;;0CAC1D,sPAAC;gCAAI,WAAU;0CAAoC,MAAM,QAAQ;;;;;;;;;;;;;;;;;;0BAKrE,sPAAC;gBAAI,WAAU;0BACb,cAAA,sPAAC;oBACC,SAAS;wBACP,MAAM,SAAS,YACZ,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,EACtB,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK,EAClB,IAAI,CAAC;wBACR,UAAU,SAAS,CAAC,SAAS,CAAC;wBAC9B,MAAM;oBACR;oBACA,WAAU;8BACX;;;;;;;;;;;0BAMH,sPAAC;gBAAI,WAAU;0BACZ,YAAY,MAAM,KAAK,kBACtB,sPAAC;oBAAI,WAAU;;sCACb,sPAAC;4BAAE,WAAU;sCAAe;;;;;;sCAC5B,sPAAC;4BAAE,WAAU;sCAAU;;;;;;;;;;;yCAGzB,sPAAC;oBAAI,WAAU;8BACb,cAAA,sPAAC;wBAAM,WAAU;;0CACf,sPAAC;gCAAM,WAAU;0CACf,cAAA,sPAAC;;sDACC,sPAAC;4CAAG,WAAU;sDAAiF;;;;;;sDAG/F,sPAAC;4CAAG,WAAU;sDAAiF;;;;;;sDAG/F,sPAAC;4CAAG,WAAU;sDAAiF;;;;;;;;;;;;;;;;;0CAKnG,sPAAC;gCAAM,WAAU;0CACd,YAAY,GAAG,CAAC,CAAC,2BAChB,sPAAC;wCAAuB,WAAU;;0DAChC,sPAAC;gDAAG,WAAU;0DACZ,cAAA,sPAAC;oDAAI,WAAU;8DAAqC,WAAW,KAAK;;;;;;;;;;;0DAEtE,sPAAC;gDAAG,WAAU;0DACZ,cAAA,sPAAC;oDACC,WAAW,CAAC,yDAAyD,EACnE,WAAW,MAAM,GACb,gCACA,6BACJ;8DAED,WAAW,MAAM,GAAG,WAAW;;;;;;;;;;;0DAGpC,sPAAC;gDAAG,WAAU;0DACX,IAAI,KAAK,WAAW,SAAS,EAAE,kBAAkB;;;;;;;uCAhB7C,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BxC","debugId":null}}]
}