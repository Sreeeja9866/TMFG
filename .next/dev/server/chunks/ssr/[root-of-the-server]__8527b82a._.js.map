{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SreejaSangras/TMFG/src/app/admin/services/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/prisma'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\n\r\nasync function getServices() {\r\n  const services = await prisma.service.findMany({\r\n    include: {\r\n      _count: {\r\n        select: {\r\n          registrations: true,\r\n          schedules: true\r\n        }\r\n      }\r\n    },\r\n    orderBy: { createdAt: 'desc' }\r\n  })\r\n  return services\r\n}\r\n\r\nexport const metadata = {\r\n  title: 'Manage Services',\r\n}\r\n\r\nexport default async function AdminServicesPage() {\r\n  const services = await getServices()\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Services & Workshops</h1>\r\n          <p className=\"text-gray-600 mt-2\">Manage your workshops and service offerings</p>\r\n        </div>\r\n        <Link\r\n          href=\"/admin/services/new\"\r\n          className=\"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors\"\r\n        >\r\n          + Add New Service\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <p className=\"text-gray-600 text-sm mb-2\">Total Services</p>\r\n          <p className=\"text-3xl font-bold text-primary\">{services.length}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <p className=\"text-gray-600 text-sm mb-2\">Active Services</p>\r\n          <p className=\"text-3xl font-bold text-green-600\">\r\n            {services.filter(s => s.active).length}\r\n          </p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <p className=\"text-gray-600 text-sm mb-2\">Total Registrations</p>\r\n          <p className=\"text-3xl font-bold text-secondary\">\r\n            {services.reduce((sum, s) => sum + s._count.registrations, 0)}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Services List */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        {services.length === 0 ? (\r\n          <div className=\"p-12 text-center\">\r\n            <p className=\"text-gray-500 text-lg mb-4\">No services yet</p>\r\n            <Link\r\n              href=\"/admin/services/new\"\r\n              className=\"text-primary hover:underline font-semibold\"\r\n            >\r\n              Create your first service ‚Üí\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {services.map((service) => (\r\n              <div key={service.id} className=\"p-6 hover:bg-gray-50 transition-colors\">\r\n                <div className=\"flex gap-6\">\r\n                  {/* Image */}\r\n                  {service.image && (\r\n                    <div className=\"relative w-32 h-32 rounded-lg overflow-hidden flex-shrink-0\">\r\n                      <Image\r\n                        src={service.image}\r\n                        alt={service.title}\r\n                        fill\r\n                        className=\"object-cover\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Content */}\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-start justify-between mb-2\">\r\n                      <div>\r\n                        <h3 className=\"text-xl font-bold text-gray-900 mb-1\">\r\n                          {service.title}\r\n                        </h3>\r\n                        <div className=\"flex items-center gap-3 text-sm text-gray-600\">\r\n                          <span className=\"px-2 py-1 bg-gray-100 rounded\">\r\n                            {service.category}\r\n                          </span>\r\n                          <span>\r\n                            {service.active ? (\r\n                              <span className=\"text-green-600 font-semibold\">‚óè Active</span>\r\n                            ) : (\r\n                              <span className=\"text-gray-400\">‚óè Inactive</span>\r\n                            )}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <Link\r\n                        href={`/admin/services/${service.id}/edit`}\r\n                        className=\"bg-primary text-white px-4 py-2 rounded hover:bg-opacity-90 transition-colors text-sm font-semibold\"\r\n                      >\r\n                        Edit\r\n                      </Link>\r\n                    </div>\r\n\r\n                    <p className=\"text-gray-700 mb-3 line-clamp-2\">\r\n                      {service.description}\r\n                    </p>\r\n\r\n                    <div className=\"flex items-center gap-6 text-sm text-gray-600\">\r\n                      {service.duration && (\r\n                        <span>‚è±Ô∏è {service.duration}</span>\r\n                      )}\r\n                      {service.price !== null && (\r\n                        <span>\r\n                          üí∞ {service.price === 0 ? 'Free' : `$${service.price}`}\r\n                        </span>\r\n                      )}\r\n                      {service.maxAttendees && (\r\n                        <span>üë• Max {service.maxAttendees} attendees</span>\r\n                      )}\r\n                      <span>üìÖ {service._count.schedules} schedules</span>\r\n                      <span>‚úÖ {service._count.registrations} registrations</span>\r\n                    </div>\r\n\r\n                    <div className=\"mt-3 text-xs text-gray-500\">\r\n                      Created: {new Date(service.createdAt).toLocaleDateString()}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}