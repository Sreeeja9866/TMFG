module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/@prisma/client [external] (@prisma/client, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("@prisma/client", () => require("@prisma/client"));

module.exports = mod;
}),
"[project]/TMFG/src/lib/prisma.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "prisma",
    ()=>prisma
]);
var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/@prisma/client [external] (@prisma/client, cjs)");
;
const globalForPrisma = globalThis;
const prisma = globalForPrisma.prisma ?? new __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$29$__["PrismaClient"]();
if ("TURBOPACK compile-time truthy", 1) globalForPrisma.prisma = prisma;
}),
"[externals]/util [external] (util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[externals]/http [external] (http, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}),
"[externals]/https [external] (https, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}),
"[externals]/url [external] (url, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/http2 [external] (http2, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}),
"[externals]/assert [external] (assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}),
"[externals]/tty [external] (tty, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("tty", () => require("tty"));

module.exports = mod;
}),
"[externals]/os [external] (os, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}),
"[externals]/zlib [external] (zlib, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}),
"[externals]/events [external] (events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}),
"[externals]/net [external] (net, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}),
"[externals]/tls [external] (tls, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}),
"[externals]/buffer [external] (buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}),
"[externals]/querystring [external] (querystring, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("querystring", () => require("querystring"));

module.exports = mod;
}),
"[project]/TMFG/src/lib/notifications.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getDonationThankYouEmail",
    ()=>getDonationThankYouEmail,
    "getVolunteerWelcomeEmail",
    ()=>getVolunteerWelcomeEmail,
    "getWorkshopRegistrationEmail",
    ()=>getWorkshopRegistrationEmail,
    "sendEmail",
    ()=>sendEmail,
    "sendSMS",
    ()=>sendSMS
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f40$sendgrid$2f$mail$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/TMFG/node_modules/@sendgrid/mail/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$twilio$2f$lib$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/TMFG/node_modules/twilio/lib/index.js [app-route] (ecmascript)");
;
;
// Initialize SendGrid
if (process.env.SENDGRID_API_KEY) {
    __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f40$sendgrid$2f$mail$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].setApiKey(process.env.SENDGRID_API_KEY);
}
// Initialize Twilio
const twilioClient = process.env.TWILIO_ACCOUNT_SID && process.env.TWILIO_AUTH_TOKEN ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$twilio$2f$lib$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])(process.env.TWILIO_ACCOUNT_SID, process.env.TWILIO_AUTH_TOKEN) : null;
async function sendEmail({ to, subject, text, html }) {
    if (!process.env.SENDGRID_API_KEY || !process.env.SENDGRID_FROM_EMAIL) {
        console.error('SendGrid credentials not configured');
        return {
            success: false,
            error: 'Email service not configured'
        };
    }
    try {
        await __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f40$sendgrid$2f$mail$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].send({
            to,
            from: process.env.SENDGRID_FROM_EMAIL,
            subject,
            text,
            html: html || text
        });
        return {
            success: true
        };
    } catch (error) {
        console.error('Error sending email:', error);
        return {
            success: false,
            error
        };
    }
}
async function sendSMS({ to, message }) {
    if (!twilioClient || !process.env.TWILIO_PHONE_NUMBER) {
        console.error('Twilio credentials not configured');
        return {
            success: false,
            error: 'SMS service not configured'
        };
    }
    try {
        await twilioClient.messages.create({
            body: message,
            from: process.env.TWILIO_PHONE_NUMBER,
            to
        });
        return {
            success: true
        };
    } catch (error) {
        console.error('Error sending SMS:', error);
        return {
            success: false,
            error
        };
    }
}
function getVolunteerWelcomeEmail(name) {
    return {
        subject: 'Welcome to The Morning Family Garden!',
        text: `Hi ${name},\n\nThank you for signing up to volunteer with The Morning Family Garden! We're excited to have you join our community.\n\nWe'll be in touch soon with more information about upcoming volunteer opportunities.\n\nBest regards,\nThe Morning Family Garden Team`,
        html: `
      <h2>Welcome to The Morning Family Garden!</h2>
      <p>Hi ${name},</p>
      <p>Thank you for signing up to volunteer with The Morning Family Garden! We're excited to have you join our community.</p>
      <p>We'll be in touch soon with more information about upcoming volunteer opportunities.</p>
      <p>Best regards,<br>The Morning Family Garden Team</p>
    `
    };
}
function getWorkshopRegistrationEmail(name, serviceName, date) {
    const dateInfo = date ? ` scheduled for ${date}` : '';
    return {
        subject: `Workshop Registration Confirmed: ${serviceName}`,
        text: `Hi ${name},\n\nYour registration for "${serviceName}"${dateInfo} has been confirmed!\n\nWe look forward to seeing you.\n\nBest regards,\nThe Morning Family Garden Team`,
        html: `
      <h2>Workshop Registration Confirmed</h2>
      <p>Hi ${name},</p>
      <p>Your registration for <strong>"${serviceName}"</strong>${dateInfo} has been confirmed!</p>
      <p>We look forward to seeing you.</p>
      <p>Best regards,<br>The Morning Family Garden Team</p>
    `
    };
}
function getDonationThankYouEmail(name, amount) {
    return {
        subject: 'Thank You for Your Donation!',
        text: `Hi ${name},\n\nThank you for your generous donation of $${amount.toFixed(2)} to The Morning Family Garden!\n\nYour support helps us maintain our community gardens, provide free workshops, and promote sustainable agriculture in our neighborhood.\n\nBest regards,\nThe Morning Family Garden Team`,
        html: `
      <h2>Thank You for Your Donation!</h2>
      <p>Hi ${name},</p>
      <p>Thank you for your generous donation of <strong>$${amount.toFixed(2)}</strong> to The Morning Family Garden!</p>
      <p>Your support helps us maintain our community gardens, provide free workshops, and promote sustainable agriculture in our neighborhood.</p>
      <p>Best regards,<br>The Morning Family Garden Team</p>
    `
    };
}
}),
"[project]/TMFG/src/app/api/volunteers/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET,
    "POST",
    ()=>POST
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/TMFG/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/TMFG/src/lib/prisma.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$notifications$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/TMFG/src/lib/notifications.ts [app-route] (ecmascript)");
;
;
;
async function POST(request) {
    try {
        const body = await request.json();
        const { name, email, phone, availability, interests, experience, message } = body;
        // Validate required fields
        if (!name || !email || !availability) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: 'Missing required fields'
            }, {
                status: 400
            });
        }
        // Create volunteer record
        const volunteer = await __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].volunteer.create({
            data: {
                name,
                email,
                phone: phone || null,
                availability,
                interests: interests || [],
                experience: experience || null,
                message: message || null,
                status: 'pending'
            }
        });
        // Send welcome email
        const emailContent = (0, __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$notifications$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getVolunteerWelcomeEmail"])(name);
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$notifications$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sendEmail"])({
            to: email,
            subject: emailContent.subject,
            text: emailContent.text,
            html: emailContent.html
        });
        // Notify admin
        if (process.env.ADMIN_EMAIL) {
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$notifications$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sendEmail"])({
                to: process.env.ADMIN_EMAIL,
                subject: 'New Volunteer Registration',
                text: `New volunteer registered:\n\nName: ${name}\nEmail: ${email}\nPhone: ${phone || 'N/A'}\nAvailability: ${availability}\nInterests: ${interests.join(', ')}\nExperience: ${experience || 'N/A'}\nMessage: ${message || 'N/A'}`,
                html: `
          <h2>New Volunteer Registration</h2>
          <p><strong>Name:</strong> ${name}</p>
          <p><strong>Email:</strong> ${email}</p>
          <p><strong>Phone:</strong> ${phone || 'N/A'}</p>
          <p><strong>Availability:</strong> ${availability}</p>
          <p><strong>Interests:</strong> ${interests.join(', ')}</p>
          <p><strong>Experience:</strong> ${experience || 'N/A'}</p>
          <p><strong>Message:</strong> ${message || 'N/A'}</p>
        `
            });
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            message: 'Volunteer registration successful',
            volunteer
        }, {
            status: 201
        });
    } catch (error) {
        console.error('Volunteer registration error:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: 'Failed to register volunteer'
        }, {
            status: 500
        });
    }
}
async function GET(request) {
    try {
        const { searchParams } = new URL(request.url);
        const status = searchParams.get('status');
        const id = searchParams.get('id');
        // If ID is provided, return single volunteer
        if (id) {
            const volunteer = await __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].volunteer.findUnique({
                where: {
                    id
                }
            });
            if (!volunteer) {
                return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                    error: 'Volunteer not found'
                }, {
                    status: 404
                });
            }
            return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json(volunteer, {
                status: 200
            });
        }
        // Otherwise return list with optional status filter
        const volunteers = await __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].volunteer.findMany({
            where: status ? {
                status
            } : undefined,
            orderBy: {
                createdAt: 'desc'
            }
        });
        return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            volunteers
        }, {
            status: 200
        });
    } catch (error) {
        console.error('Error fetching volunteers:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$TMFG$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: 'Failed to fetch volunteers'
        }, {
            status: 500
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__3ef48133._.js.map