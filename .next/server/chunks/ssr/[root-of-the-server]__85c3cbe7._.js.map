{"version":3,"sources":["turbopack:///[project]/TMFG/src/app/admin/newsletter/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/prisma'\r\n\r\nexport default async function NewsletterPage() {\r\n  const subscribers = await prisma.newsletter.findMany({\r\n    orderBy: { createdAt: 'desc' },\r\n  })\r\n\r\n  const stats = {\r\n    total: subscribers.length,\r\n    active: subscribers.filter((s) => s.active).length,\r\n    inactive: subscribers.filter((s) => !s.active).length,\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Newsletter Subscribers</h1>\r\n        <p className=\"text-gray-600\">Manage email subscribers</p>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"text-sm font-semibold text-gray-600 mb-2\">Total Subscribers</div>\r\n          <div className=\"text-3xl font-bold text-primary\">{stats.total}</div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"text-sm font-semibold text-gray-600 mb-2\">Active</div>\r\n          <div className=\"text-3xl font-bold text-green-600\">{stats.active}</div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"text-sm font-semibold text-gray-600 mb-2\">Unsubscribed</div>\r\n          <div className=\"text-3xl font-bold text-gray-400\">{stats.inactive}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Export Button */}\r\n      <div className=\"mb-6\">\r\n        <button\r\n          onClick={() => {\r\n            const emails = subscribers\r\n              .filter((s) => s.active)\r\n              .map((s) => s.email)\r\n              .join(',')\r\n            navigator.clipboard.writeText(emails)\r\n            alert('Active email addresses copied to clipboard!')\r\n          }}\r\n          className=\"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors\"\r\n        >\r\n          ðŸ“‹ Copy All Active Emails\r\n        </button>\r\n      </div>\r\n\r\n      {/* Subscribers Table */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        {subscribers.length === 0 ? (\r\n          <div className=\"p-12 text-center text-gray-500\">\r\n            <p className=\"text-xl mb-2\">No subscribers yet</p>\r\n            <p className=\"text-sm\">Newsletter subscribers will appear here</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Email\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Subscribed Date\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {subscribers.map((subscriber) => (\r\n                  <tr key={subscriber.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{subscriber.email}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span\r\n                        className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                          subscriber.active\r\n                            ? 'bg-green-100 text-green-800'\r\n                            : 'bg-gray-100 text-gray-800'\r\n                        }`}\r\n                      >\r\n                        {subscriber.active ? 'Active' : 'Unsubscribed'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(subscriber.createdAt).toLocaleDateString()}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}