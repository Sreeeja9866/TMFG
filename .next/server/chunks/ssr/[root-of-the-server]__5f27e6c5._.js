module.exports=[37216,(a,b,c)=>{"use strict";b.exports=a.r(58046).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},18771,(a,b,c)=>{"use strict";b.exports=a.r(58046).vendored.contexts.HooksClientContext},22898,(a,b,c)=>{"use strict";b.exports=a.r(58046).vendored.contexts.ServerInsertedHtml},88028,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(43110),g=a.r(30406),h=a.r(32654),i=f._(a.r(23815));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},39179,(a,b,c)=>{b.exports=a.r(88028)},14311,a=>{"use strict";var b=a.i(34282),c=a.i(51950),d=a.i(33096),e=a.i(76048),f=a.i(39179);function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)({title:"",slug:"",description:"",category:"",duration:"",price:"",maxAttendees:"",image:"",active:!0}),o=a=>{let{name:b,value:c,type:d}=a.target;if("title"===b){let a=c.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");n(b=>({...b,title:c,slug:a}))}else if("checkbox"===d){let c=a.target.checked;n(a=>({...a,[b]:c}))}else n(a=>({...a,[b]:c}))},p=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void alert("Please select an image file");if(b.size>5242880)return void alert("File size must be less than 5MB");j(!0);try{let a=new FormData;a.append("file",b),a.append("type","service");let c=await fetch("/api/admin/upload",{method:"POST",body:a});if(!c.ok){let a=await c.json();throw Error(a.error||"Upload failed")}let d=await c.json();n(a=>({...a,image:d.path})),l(d.path),alert("Image uploaded successfully!")}catch(a){console.error("Upload error:",a),alert(a instanceof Error?a.message:"Failed to upload image")}finally{j(!1)}}},q=async b=>{b.preventDefault(),h(!0);try{let b=await fetch("/api/admin/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,price:m.price?parseFloat(m.price):null,maxAttendees:m.maxAttendees?parseInt(m.maxAttendees):null})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create service")}alert("Service created successfully!"),a.push("/admin/services")}catch(a){console.error("Create error:",a),alert(a instanceof Error?a.message:"Failed to create service")}finally{h(!1)}};return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)(e.default,{href:"/admin/services",className:"text-primary hover:underline mb-4 inline-block",children:"â† Back to Services"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Service"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Add a new workshop or service offering"})]}),(0,b.jsxs)("form",{onSubmit:q,className:"bg-white rounded-lg shadow p-8 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"title",className:"block text-sm font-semibold mb-2",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"title",name:"title",value:m.title,onChange:o,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., Organic Gardening Basics"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"slug",className:"block text-sm font-semibold mb-2",children:["URL Slug ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"slug",name:"slug",value:m.slug,onChange:o,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., organic-gardening-basics"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Auto-generated from title. Used in URL."})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"category",className:"block text-sm font-semibold mb-2",children:["Category ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{id:"category",name:"category",value:m.category,onChange:o,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"Select category"}),(0,b.jsx)("option",{value:"Beginner Workshop",children:"Beginner Workshop"}),(0,b.jsx)("option",{value:"Advanced Workshop",children:"Advanced Workshop"}),(0,b.jsx)("option",{value:"Community Event",children:"Community Event"}),(0,b.jsx)("option",{value:"Kids Program",children:"Kids Program"}),(0,b.jsx)("option",{value:"Seasonal Workshop",children:"Seasonal Workshop"}),(0,b.jsx)("option",{value:"Special Event",children:"Special Event"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"description",className:"block text-sm font-semibold mb-2",children:["Description ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{id:"description",name:"description",value:m.description,onChange:o,required:!0,rows:6,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Detailed description of the service..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"duration",className:"block text-sm font-semibold mb-2",children:"Duration"}),(0,b.jsx)("input",{type:"text",id:"duration",name:"duration",value:m.duration,onChange:o,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., 2 hours, Half day, Full day"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"price",className:"block text-sm font-semibold mb-2",children:"Price (USD)"}),(0,b.jsx)("input",{type:"number",id:"price",name:"price",value:m.price,onChange:o,step:"0.01",min:"0",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"0.00 for free"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"maxAttendees",className:"block text-sm font-semibold mb-2",children:"Max Attendees"}),(0,b.jsx)("input",{type:"number",id:"maxAttendees",name:"maxAttendees",value:m.maxAttendees,onChange:o,min:"1",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Leave empty for unlimited"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"image",className:"block text-sm font-semibold mb-2",children:"Featured Image"}),(0,b.jsx)("input",{type:"file",id:"image",accept:"image/*",onChange:p,disabled:i,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary"}),i&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Uploading image..."}),k&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Preview:"}),(0,b.jsx)("div",{className:"relative w-full h-64 rounded-lg overflow-hidden",children:(0,b.jsx)(f.default,{src:k,alt:"Preview",fill:!0,className:"object-cover"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"active",name:"active",checked:m.active,onChange:o,className:"w-5 h-5 text-primary focus:ring-2 focus:ring-primary"}),(0,b.jsx)("label",{htmlFor:"active",className:"text-sm font-semibold",children:"Active (visible on website)"})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-6 border-t",children:[(0,b.jsx)("button",{type:"submit",disabled:g||i,className:"bg-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50",children:g?"Creating...":"Create Service"}),(0,b.jsx)(e.default,{href:"/admin/services",className:"bg-gray-200 text-gray-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5f27e6c5._.js.map