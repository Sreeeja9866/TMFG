{"version":3,"sources":["turbopack:///[project]/TMFG/src/app/admin/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/prisma'\r\nimport Link from 'next/link'\r\n\r\nasync function getDashboardStats() {\r\n  const [\r\n    totalServices,\r\n    totalBlogPosts,\r\n    totalVolunteers,\r\n    pendingVolunteers,\r\n    totalRegistrations,\r\n    pendingRegistrations,\r\n    totalDonations,\r\n    totalNewsletterSubscribers,\r\n  ] = await Promise.all([\r\n    prisma.service.count({ where: { active: true } }),\r\n    prisma.blogPost.count({ where: { published: true } }),\r\n    prisma.volunteer.count(),\r\n    prisma.volunteer.count({ where: { status: 'pending' } }),\r\n    prisma.registration.count(),\r\n    prisma.registration.count({ where: { status: 'pending' } }),\r\n    prisma.donation.count(),\r\n    prisma.newsletter.count({ where: { active: true } }),\r\n  ])\r\n\r\n  const donationSum = await prisma.donation.aggregate({\r\n    _sum: {\r\n      amount: true,\r\n    },\r\n    where: {\r\n      status: 'succeeded',\r\n    },\r\n  })\r\n\r\n  return {\r\n    totalServices,\r\n    totalBlogPosts,\r\n    totalVolunteers,\r\n    pendingVolunteers,\r\n    totalRegistrations,\r\n    pendingRegistrations,\r\n    totalDonations,\r\n    totalDonationAmount: donationSum._sum.amount || 0,\r\n    totalNewsletterSubscribers,\r\n  }\r\n}\r\n\r\nexport default async function AdminDashboard() {\r\n  const stats = await getDashboardStats()\r\n\r\n  const statCards = [\r\n    {\r\n      title: 'Active Services',\r\n      value: stats.totalServices,\r\n      link: '/admin/services',\r\n      icon: 'üå±',\r\n      color: 'bg-green-500',\r\n    },\r\n    {\r\n      title: 'Published Blog Posts',\r\n      value: stats.totalBlogPosts,\r\n      link: '/admin/blog',\r\n      icon: 'üìù',\r\n      color: 'bg-blue-500',\r\n    },\r\n    {\r\n      title: 'Volunteers',\r\n      value: stats.totalVolunteers,\r\n      subtitle: `${stats.pendingVolunteers} pending`,\r\n      link: '/admin/volunteers',\r\n      icon: 'ü§ù',\r\n      color: 'bg-purple-500',\r\n    },\r\n    {\r\n      title: 'Registrations',\r\n      value: stats.totalRegistrations,\r\n      subtitle: `${stats.pendingRegistrations} pending`,\r\n      link: '/admin/registrations',\r\n      icon: 'üìã',\r\n      color: 'bg-orange-500',\r\n    },\r\n    {\r\n      title: 'Total Donations',\r\n      value: `$${stats.totalDonationAmount.toFixed(2)}`,\r\n      subtitle: `${stats.totalDonations} donations`,\r\n      link: '/admin/donations',\r\n      icon: 'üí∞',\r\n      color: 'bg-yellow-500',\r\n    },\r\n    {\r\n      title: 'Newsletter Subscribers',\r\n      value: stats.totalNewsletterSubscribers,\r\n      link: '/admin/newsletter',\r\n      icon: 'üìß',\r\n      color: 'bg-pink-500',\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Dashboard</h1>\r\n        <p className=\"text-gray-600\">Welcome to The Morning Family Garden Admin Panel</p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n        {statCards.map((card, index) => (\r\n          <Link\r\n            key={index}\r\n            href={card.link}\r\n            className=\"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow\"\r\n          >\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div className={`${card.color} w-12 h-12 rounded-lg flex items-center justify-center text-2xl`}>\r\n                {card.icon}\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">{card.title}</h3>\r\n            <p className=\"text-3xl font-bold text-gray-900 mb-1\">{card.value}</p>\r\n            {card.subtitle && (\r\n              <p className=\"text-sm text-gray-500\">{card.subtitle}</p>\r\n            )}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <Link\r\n            href=\"/admin/services/new\"\r\n            className=\"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            + Add Service\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/blog/new\"\r\n            className=\"bg-secondary text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            + New Blog Post\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/volunteers?status=pending\"\r\n            className=\"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            Review Volunteers\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/registrations?status=pending\"\r\n            className=\"bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors text-center\"\r\n          >\r\n            Review Registrations\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}